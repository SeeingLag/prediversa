{% extends "base.html" %}

<a href="{{ url_for('logout') }}" class="text-sm text-gray-600 hover:text-purple-600">Cerrar sesión</a>
<a href="{{ url_for('listar_cuestionarios') }}">Ver cuestionarios</a>


{% block header_class %}flex justify-between items-center{% endblock %}

{% block header_subtitle %}
<div class="text-right">
    <a href="{{ url_for('logout') }}" class="text-sm text-gray-600 hover:text-purple-600">
        Cerrar sesión ({{ session['usuario'] }})
    </a>
</div>
{% endblock %}

{% block content %}
<div class="bg-white rounded-xl shadow-md p-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">
        Bienvenido/a, {{ usuario.nombre if usuario else 'Usuario' }}
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Card de Cuestionarios -->
        <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
            <h3 class="text-lg font-medium text-purple-700 mb-3">Cuestionarios</h3>
            <p class="text-gray-600 mb-4">Completa los diagnósticos disponibles.</p>
            <a href="{{ url_for('listar_cuestionarios') }}" 
               class="text-purple-600 hover:underline font-medium">
                Ver cuestionarios →
            </a>
        </div>

        <!-- Card de Resultados -->
        <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
            <h3 class="text-lg font-medium text-purple-700 mb-3">Mis Resultados</h3>
            <p class="text-gray-600 mb-4">Revisa tu análisis de riesgo.</p>
            <a href="{{ url_for('resultados') }}" 
               class="text-purple-600 hover:underline font-medium">
                Ver diagnóstico →
            </a>
        </div>

        <!-- Card de Recursos -->
        <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
            <h3 class="text-lg font-medium text-purple-700 mb-3">Recursos</h3>
            <p class="text-gray-600 mb-4">Material de prevención y apoyo.</p>
            <a href="#" class="text-purple-600 hover:underline font-medium">
                Explorar recursos →
            </a>
        </div>

        <!-- Card de Alertas (solo para admin) -->
        {% if usuario.rol == 'admin' %}
        <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
            <h3 class="text-lg font-medium text-purple-700 mb-3">Alertas</h3>
            <p class="text-gray-600 mb-4">Gestiona casos reportados.</p>
            <a href="/admin/alerta/" class="text-purple-600 hover:underline font-medium">
                Ver alertas →
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}